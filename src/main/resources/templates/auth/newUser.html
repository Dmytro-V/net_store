<!DOCTYPE html>
<html lang="pl"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">

<div th:replace="~{dynamic/header}"></div>

<body>
    <!-- Topbar -->
    <div th:insert="~{dynamic/top-bar::topbar}"></div>
    <!-- End of Topbar -->

    <!-- Begin Page Content -->
    <div class="container" style="max-width: 600px">
        <form class="needs-validation" novalidate method="post" th:action="@{/addNewUser}" th:object="${newUser}">
                <h2>New user</h2>
            <p th:if="${addUserError}" class="text-danger">user with this Email is already exist</p>
                <div class="form-group">
                    <label for="inputEmail">Email address</label>
                    <input type="email" name="email" class="form-control" id="inputEmail" required>
                    <div class="invalid-feedback">
                        Please enter right e-mail.
                    </div>
                </div>
                <div class="form-group">
                    <label for="inputPassword">Password</label>
                    <input type="password" class="form-control" id="inputPassword" name="password" required>
                    <div class="invalid-feedback">
                        Please enter password.
                    </div>
                </div>
                <div class="form-group">
                    <label for="inputCity">City</label>
                    <input type="text" class="form-control" id="inputCity" name="city">
                </div>
                <div class="form-group">
                    <label for="inputAddress">Address</label>
                    <input type="text" class="form-control" id="inputAddress" name="address">
                </div>
                <div class="form-group">
                    <label for="inputMessage">Message</label>
                    <input type="text" class="form-control" id="inputMessage" name="message">
                </div>
                <div class="form-group">
                    <label for="inputAvatar">Avatar</label>
                    <input type="text" class="form-control" id="inputAvatar" name="avatar">
                </div>
                <div class="form-group">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="checkAgrement" required>
                        <label class="form-check-label" for="checkAgrement">
                            I accept <a href="#">agrement</a>
                        </label>
                    </div>
                </div>

                <button type="submit" class="btn btn-primary btn-block">Register</button>
            </form>
    </div>
    <!-- /.container-fluid -->


    <!-- scripts-->
    <div th:replace="~{dynamic/js}"></div>

    <script>
        (function () {
            'use strict';
            window.addEventListener('load', function () {
                // Fetch all the forms we want to apply custom Bootstrap validation styles to
                let forms = document.getElementsByClassName('needs-validation');
                // Loop over them and prevent submission
                let validation = Array.prototype.filter.call(forms, function (form) {
                    form.addEventListener('submit', function (event) {
                        if (form.checkValidity() === false) {
                            event.preventDefault();
                            event.stopPropagation();
                        }
                        form.classList.add('was-validated');
                    }, false);
                });
            }, false);
        })();
    </script>

</body>
</html>
